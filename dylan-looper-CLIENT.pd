#N canvas 235 367 361 352 12;
#X declare -path ./lib;
#X declare -path ./lib/quack;
#N canvas 92 117 561 489 performer-controls 0;
#X obj 100 100 perf-control-panel 1;
#X obj 300 50 client-quack-abs 1;
#X obj 300 100 client-transmit-abs 1;
#X obj 300 150 perf-midi-map 1;
#X obj 300 200 perf-osc-send 1;
#X coords 0 -1 1 1 115 300 2 100 100;
#X restore 21 23 pd performer-controls;
#N canvas 660 250 726 614 netsend 0;
#X obj 303 73 cnv 15 179 99 empty netsend-connected-canvas empty 20
12 0 14 #ff0013 #fcfcfc 0;
#X obj 306 154 tgl 15 0 server-connect server-connect-set connect 17
7 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 64 201 select 0 1;
#X msg 64 347 \; netsend-connected-canvas color -1.67117e+07 0 0 \;
;
#X symbolatom 306 110 20 0 0 1 IP server-ip-address-set server-ip-address
0;
#X obj 114 314 loadbang;
#N canvas 142 360 623 364 init 0;
#X obj 49 280 declare -path ./lib;
#X obj 57 48 loadbang;
#X obj 57 216 s lb3;
#X obj 87 186 s lb2;
#X obj 117 156 s lb1;
#X msg 278 71 \; perf-id-set 0 \;;
#X obj 278 47 r lb1;
#X obj 57 72 t b b b;
#X obj 278 137 r lb2;
#X obj 49 310 declare -path ./lib/quack;
#X msg 278 161 \; server-ip-address-set symbol 127.0.0.1 \;;
#X msg 278 281 \; pd dsp 0 \;;
#X obj 278 251 delay 2;
#X obj 278 227 r lb3;
#X text 366 251 << this DSP off message doesn't work without a delay
of about one block, f 29;
#X connect 1 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 2 0;
#X connect 7 1 3 0;
#X connect 7 2 4 0;
#X connect 8 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X restore 522 146 pd init;
#X obj 305 80 hradio 15 1 0 4 perf-id perf-id-set Performer-ID 64 7
0 12 #fcfcfc #000000 #000000 0;
#X floatatom 306 132 12 0 65535 1 Port server-port-set server-port
0;
#N canvas 842 48 971 713 dynamic-patching 0;
#X msg 548 183 \; pd-performer-controls clear \;;
#X msg 511 238 \; pd-performer-controls obj 100 100 perf-control-panel
\$1 \;;
#X obj 29 30 r perf-id;
#X obj 29 54 + 1;
#X msg 288 438 \; pd-performer-controls obj 300 200 perf-osc-send \$1
\;;
#X obj 89 508 r server-ip-address;
#X obj 29 538 symbol;
#X obj 82 568 f;
#X obj 122 568 r server-port;
#X obj 29 602 pack s f;
#X msg 29 626 \; server-ip-address \$1 \; server-port \$2 \;;
#X obj 89 532 symbol;
#X msg 348 388 \; pd-performer-controls obj 300 150 perf-midi-map \$1
\;;
#X msg 468 288 \; pd-performer-controls obj 300 50 client-quack-abs
\$1 \;;
#X msg 408 338 \; pd-performer-controls obj 300 100 client-transmit-abs
\$1 \;;
#X obj 527 497 + 57120;
#X msg 257 527 \; perf-\$1-buf-A-decay-rate-set 0 \; perf-\$1-buf-B-decay-rate-set
0 \; perf-\$1-sig-target-set 0 \; perf-\$1-buf-A-gain-set 0 \; perf-\$1-buf-B-gain-set
0 \; perf-\$1-live-gain-set 0 \; perf-\$1-main-volume-set 100 \;;
#X obj 29 84 t b f f f f f f f f b;
#X msg 527 527 \; server-port-set \$1 \;;
#X connect 2 0 3 0;
#X connect 3 0 17 0;
#X connect 5 0 11 0;
#X connect 6 0 9 0;
#X connect 7 0 9 1;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 11 0 6 1;
#X connect 15 0 18 0;
#X connect 17 0 6 0;
#X connect 17 1 16 0;
#X connect 17 2 15 0;
#X connect 17 3 4 0;
#X connect 17 4 12 0;
#X connect 17 5 14 0;
#X connect 17 6 13 0;
#X connect 17 7 1 0;
#X connect 17 8 0 0;
#X restore 522 116 pd dynamic-patching;
#X obj 64 170 r server-connection-status;
#X text 96 409 Need to add a DAC that receives the metronome and full
mix signals. maybe each performer should be able to balance those levels
individually. Need a way to get the ping time from the server to update
the average ping field for the client here.;
#X msg 114 244 \; pd dsp 1 \; netsend-connected-canvas color -65281
0 0 \;;
#X connect 2 0 3 0;
#X connect 2 1 12 0;
#X connect 5 0 3 0;
#X connect 10 0 2 0;
#X coords 0 -1 1 1 185 105 2 300 70;
#X restore 151 23 pd netsend;
#N canvas 746 187 797 391 audio-mixer 0;
#X obj 353 180 dac~;
#X obj 354 59 r~ full-mix-signal;
#X obj 354 83 *~;
#X obj 514 83 *~;
#X obj 514 59 r~ metronome-signal;
#X obj 60 175 bng 15 250 50 0 empty empty remote-audio 17 7 0 10 #00faff
#000000 #000000;
#X msg 60 250 \; pd-client-quack-abs.pd vis 1;
#X obj 63 122 hsl 128 15 40 100 0 0 metronome-gain metronome-gain-set
metronome 8 8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 63 102 hsl 128 15 40 100 0 0 full-mix-gain full-mix-gain-set
full-mix 8 8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 273 116 env~;
#X obj 273 140 - 100;
#X obj 209 68 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 0 0
;
#X obj 480 174 r full-mix-gain;
#X obj 480 198 moses 41;
#X obj 480 222 t b;
#X msg 480 246 0;
#X obj 480 270 dbtorms;
#X obj 480 294 pack f 40;
#X obj 480 318 line~;
#X obj 620 198 moses 41;
#X obj 620 222 t b;
#X msg 620 246 0;
#X obj 620 270 dbtorms;
#X obj 620 294 pack f 40;
#X obj 620 318 line~;
#X obj 620 174 r metronome-gain;
#N canvas 1022 499 442 196 init 0;
#X obj 39 48 r lb1;
#X msg 39 72 \; full-mix-gain-set 100 \; metronome-gain-set 80 \; metronome-pan-set
1 \;;
#X connect 0 0 1 0;
#X restore 351 302 pd init;
#X obj 63 142 hsl 24 8 0 1 0 0 metronome-pan metronome-pan-set metronome-pan
32 4 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 515 115 pan~;
#X obj 565 115 r metronome-pan;
#X connect 1 0 2 0;
#X connect 1 0 9 0;
#X connect 2 0 0 0;
#X connect 2 0 0 1;
#X connect 3 0 28 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 13 1 16 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 2 1;
#X connect 19 0 20 0;
#X connect 19 1 22 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 3 1;
#X connect 25 0 19 0;
#X connect 28 0 0 0;
#X connect 28 1 0 1;
#X connect 29 0 28 1;
#X coords 0 -1 1 1 185 150 1 50 50;
#X restore 151 143 pd audio-mixer;
