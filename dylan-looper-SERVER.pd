#N canvas 75 172 485 617 12;
#X declare -path ./lib;
#N canvas 521 141 752 321 master-control-panel 0;
#N canvas 1128 570 500 369 metronome 0;
#X msg 61 132 1 5 \, 0 5 50;
#X obj 61 155 vline~;
#X obj 61 178 *~;
#X obj 100 177 osc~ 1000;
#X obj 61 264 *~;
#X obj 334 168 dbtorms;
#X obj 334 191 pack f 40;
#X obj 334 214 line~;
#X msg 201 142 1 5 \, 0 5 50;
#X obj 201 165 vline~;
#X obj 201 188 *~;
#X obj 240 187 osc~ 500;
#X obj 201 114 t b;
#X obj 334 62 r metronome-volume;
#X obj 334 95 moses 41;
#X obj 334 118 t b;
#X msg 334 141 0;
#X obj 61 36 r beat;
#X obj 61 59 select 0;
#X obj 61 314 dac~ 3;
#X obj 151 314 dac~ 1 2;
#X obj 151 264 *~;
#X obj 191 264 r metronome-dac-stereo;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 2 1;
#X connect 4 0 19 0;
#X connect 4 0 21 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 4 0;
#X connect 11 0 10 1;
#X connect 12 0 8 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 14 1 5 0;
#X connect 15 0 16 0;
#X connect 16 0 5 0;
#X connect 17 0 18 0;
#X connect 18 0 0 0;
#X connect 18 1 12 0;
#X connect 21 0 20 0;
#X connect 21 0 20 1;
#X connect 22 0 21 1;
#X restore 425 97 pd metronome;
#N canvas 1065 45 346 366 init 0;
#X obj 47 62 loadbang;
#X obj 47 282 declare -path ./lib;
#X msg 47 95 \; player-1-pan-set 0.5 \; player-2-pan-set 0.25 \; player-3-pan-set
0.75 \; player-4-pan-set 0.5 \; metronome-volume-set 80 \; metronome-dac-stereo-set
0 \; master-gain-set 100 \; tempo-set 90 \; time-sig-set 4 \; bars-per-loop-set
1 \; limiter-bypass-set 0 \; pd dsp 1 \;;
#X connect 0 0 2 0;
#X restore 425 67 pd init;
#N canvas 1114 68 510 504 ableton-link 0;
#X msg 71 82 connect \$1;
#X floatatom 168 329 5 0 0 1 beat_time - - 0;
#X floatatom 131 347 5 0 0 1 phase - - 0;
#X floatatom 71 453 5 0 0 0 - - - 0;
#X obj 71 431 r #abl_link_num_peers;
#X obj 71 237 abl_link~;
#X msg 128 149 reset 0 \$1;
#X obj 128 125 r time-sig;
#X floatatom 242 130 5 0 0 0 - - - 0;
#X obj 242 152 / 100;
#X msg 242 175 resolution \$1;
#X text 294 81 this is the resolution of the step. default of 1 gives
us every beat \, 0.5 would give half a beat., f 20;
#X obj 71 52 r ableton-connect;
#X obj 71 381 s beat;
#X obj 325 249 r beat;
#X obj 325 272 + 1;
#X obj 325 295 s beat-display;
#X floatatom 181 237 5 0 0 0 - - - 0;
#X msg 172 263 set \$1;
#X obj 172 291 s tempo-set;
#X obj 15 149 r tempo;
#X msg 15 173 tempo \$1;
#X connect 0 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 13 0;
#X connect 5 1 2 0;
#X connect 5 2 1 0;
#X connect 5 3 17 0;
#X connect 5 3 18 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 5 0;
#X connect 12 0 0 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 18 0 19 0;
#X connect 20 0 21 0;
#X connect 21 0 5 0;
#X restore 425 125 pd ableton-link;
#N canvas 774 433 846 433 compute-loop-dur 0;
#X obj 470 79 t b f;
#X msg 470 102 60000;
#X obj 470 125 /;
#X obj 470 54 r tempo;
#X obj 181 132 f;
#X obj 224 124 + 1;
#X obj 181 175 select 0;
#X obj 264 147 + 1;
#X obj 181 245 f;
#X text 199 215 only update on loop reset;
#X floatatom 271 315 10 0 0 1 ms - - 0;
#X obj 536 291 t b f;
#X obj 470 323 * 1;
#X obj 536 266 + 1;
#X obj 536 148 t b f;
#X obj 470 183 * 1;
#X obj 536 123 r time-sig;
#X obj 536 243 r bars-per-loop;
#X obj 181 346 s loop-dur;
#X obj 181 45 r beat;
#X obj 181 308 change;
#X obj 264 124 r bars-per-loop;
#X obj 59 187 + 1;
#X obj 181 85 select 0;
#X obj 59 210 s bar-display;
#X obj 224 147 % 0;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 2 0 15 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 4 0 6 0;
#X connect 4 0 22 0;
#X connect 5 0 25 0;
#X connect 6 0 8 0;
#X connect 7 0 25 1;
#X connect 8 0 10 0;
#X connect 8 0 20 0;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 12 0 8 1;
#X connect 13 0 11 0;
#X connect 14 0 15 0;
#X connect 14 1 15 1;
#X connect 15 0 12 0;
#X connect 16 0 14 0;
#X connect 17 0 13 0;
#X connect 19 0 23 0;
#X connect 20 0 18 0;
#X connect 21 0 7 0;
#X connect 22 0 24 0;
#X connect 23 0 4 0;
#X connect 25 0 4 1;
#X restore 425 155 pd compute-loop-dur;
#X obj 245 51 cnv 15 123 188 empty empty Time 5 12 0 14 #c4fcc4 #202020
0;
#X obj 286 104 tgl 15 0 ableton-connect empty Abl 20 8 0 12 #fcfcfc
#000000 #000000 0 1;
#X obj 256 94 vradio 15 1 0 8 bars-per-loop bars-per-loop-set bars/loop
0 -8 0 12 #fcfcfc #000000 #000000 0;
#X floatatom 286 137 5 2 6 2 time-sig time-sig-set time-sig 0;
#X obj 41 51 cnv 15 203 188 empty empty Gain 5 12 0 14 #dcdcdc #202020
0;
#X obj 222 66 vsl 15 128 40 100 0 0 metronome-volume metronome-volume-set
empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X text 224 68 metronome, f 1;
#X obj 202 66 vsl 15 128 40 100 0 0 master-gain master-gain-set empty
0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X text 204 68 MASTER, f 1;
#X obj 87 86 vu 15 120 player-2-vu empty -1 -8 0 10 #404040 #000000
0 0;
#X obj 47 86 vu 15 120 player-1-vu empty -1 -8 0 10 #404040 #000000
0 0;
#X floatatom 286 207 5 2 6 1 beat beat-display - 0;
#X floatatom 286 187 5 2 6 1 bar bar-display - 0;
#N canvas 641 351 1114 440 DSP 0;
#X obj 52 142 perf-signal-routing 1;
#X obj 292 142 perf-signal-routing 2;
#X obj 52 22 adc~ 1;
#X obj 292 22 adc~ 2;
#X obj 52 175 *~;
#X obj 966 153 dbtorms;
#X obj 966 176 pack f 40;
#X obj 966 199 line~;
#X obj 966 80 moses 41;
#X obj 966 103 t b;
#X msg 966 126 0;
#X obj 966 47 r master-gain;
#X obj 292 175 *~;
#X obj 92 65 env~;
#X obj 92 88 - 100;
#X obj 92 111 s player-1-vu;
#X obj 332 65 env~;
#X obj 332 88 - 100;
#X obj 332 111 s player-2-vu;
#X obj 522 175 *~;
#X obj 762 175 *~;
#X obj 562 65 env~;
#X obj 562 88 - 100;
#X obj 802 65 env~;
#X obj 802 88 - 100;
#X obj 762 22 adc~ 4;
#X obj 522 22 adc~ 3;
#X obj 562 111 s player-3-vu;
#X obj 522 142 perf-signal-routing 3;
#X obj 762 142 perf-signal-routing 4;
#X obj 802 111 s player-4-vu;
#X obj 52 217 pan~;
#X obj 92 217 r player-1-pan;
#X obj 292 217 pan~;
#X obj 522 217 pan~;
#X obj 762 217 pan~;
#X obj 332 217 r player-2-pan;
#X obj 562 217 r player-3-pan;
#X obj 802 217 r player-4-pan;
#N canvas 476 131 726 490 limiter 0;
#N canvas 0 50 450 250 (subpatch) 0;
#X array \$0-dynamic-curve 102 float 3;
#A 0 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46
47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69
70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92
92.95 93.8 94.55 95.2 95.75 96.2 96.55 96.8 96.95;
#X coords 0 100 102 0 202 200 1 0 0;
#X restore 454 50 graph;
#N canvas 557 25 760 864 parameters 0;
#X obj 367 19 inlet;
#X obj 490 150 s \$0-speed;
#X obj 367 289 s \$0-limit;
#X obj 391 265 s \$0-knee;
#X obj 416 241 s \$0-boost;
#X obj 440 214 s \$0-ratio;
#X obj 367 124 unpack 0 0 0 0 0 0;
#X obj 465 183 s \$0-thresh;
#X obj 50 84 r \$0-limit;
#X obj 58 107 r \$0-knee;
#X obj 66 130 r \$0-boost;
#X obj 82 174 r \$0-thresh;
#X obj 75 152 r \$0-ratio;
#X obj 50 210 b;
#X obj 50 235 del 0;
#X obj 50 260 t b b;
#X obj 50 310 until;
#X obj 108 337 + 1;
#X msg 99 307 0;
#X obj 117 807 tabwrite \$0-dynamic-curve, f 52;
#X obj 498 565 moses;
#X obj 569 515 r \$0-thresh;
#X obj 631 552 r \$0-ratio;
#X obj 631 579 f;
#X obj 631 604 / 100;
#X obj 117 753 +;
#X msg 530 591 0;
#X obj 508 658 expr ($f1-$f2)*$f3;
#X obj 117 778 max 0;
#X obj 631 629 - 1;
#X obj 50 430 +;
#X obj 68 403 r \$0-boost;
#X obj 138 432 r \$0-limit;
#X obj 120 465 f;
#X obj 138 490 -;
#X obj 50 465 t f b;
#X obj 292 419 r \$0-knee;
#X obj 203 558 +;
#X obj 82 532 -;
#X obj 50 559 moses;
#X obj 117 589 moses;
#X obj 144 653 b;
#X obj 380 586 r \$0-limit;
#X obj 164 686 f;
#X obj 117 621 expr $f4 - ($f2-$f1)*($f2-$f1)/(4*$f3);
#X obj 72 600 +;
#X msg 50 285 102;
#X obj 292 444 f;
#X obj 292 469 / 2;
#X obj 396 66 loadbang;
#X msg 396 91 100 0 0 100 0 50;
#X obj 156 465 r \$0-boost;
#X obj 107 557 r \$0-boost;
#X obj 50 368 trigger float float, f 61;
#X obj 182 652 r \$0-limit;
#X obj 50 335 float;
#X obj 220 137 setctl \$0-ratio;
#X obj 220 162 setctl \$0-thresh;
#X obj 220 187 setctl \$0-speed;
#X obj 220 213 setctl \$0-limit;
#X obj 220 237 setctl \$0-knee;
#X obj 220 262 setctl \$0-boost;
#X connect 0 0 6 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 6 2 4 0;
#X connect 6 3 5 0;
#X connect 6 4 7 0;
#X connect 6 5 1 0;
#X connect 8 0 13 0;
#X connect 9 0 13 0;
#X connect 10 0 13 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 46 0;
#X connect 15 1 18 0;
#X connect 16 0 55 0;
#X connect 17 0 55 1;
#X connect 18 0 55 1;
#X connect 20 0 27 0;
#X connect 20 1 26 0;
#X connect 21 0 20 1;
#X connect 21 0 27 1;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 29 0;
#X connect 25 0 28 0;
#X connect 26 0 25 1;
#X connect 27 0 25 1;
#X connect 28 0 19 0;
#X connect 29 0 27 2;
#X connect 30 0 35 0;
#X connect 31 0 30 1;
#X connect 32 0 33 1;
#X connect 33 0 34 0;
#X connect 34 0 37 0;
#X connect 34 0 38 0;
#X connect 35 0 39 0;
#X connect 35 1 33 0;
#X connect 36 0 47 0;
#X connect 37 0 40 1;
#X connect 37 0 44 1;
#X connect 38 0 39 1;
#X connect 39 0 45 0;
#X connect 39 1 40 0;
#X connect 40 0 44 0;
#X connect 40 1 41 0;
#X connect 41 0 43 0;
#X connect 42 0 44 3;
#X connect 43 0 25 0;
#X connect 44 0 25 0;
#X connect 45 0 25 0;
#X connect 46 0 16 0;
#X connect 47 0 48 0;
#X connect 48 0 38 1;
#X connect 48 0 37 1;
#X connect 48 0 44 2;
#X connect 49 0 50 0;
#X connect 50 0 6 0;
#X connect 51 0 34 1;
#X connect 52 0 45 1;
#X connect 53 0 30 0;
#X connect 53 1 19 1;
#X connect 53 1 20 0;
#X connect 54 0 43 1;
#X connect 55 0 17 0;
#X connect 55 0 53 0;
#X restore 96 433 pd parameters;
#X floatatom 400 80 3 0 100 0 limit \$0-limit-set \$0-limit 0;
#X floatatom 400 101 3 0 20 0 knee \$0-knee-set \$0-knee 0;
#X floatatom 400 122 3 0 50 0 boost \$0-boost-set \$0-boost 0;
#X floatatom 400 143 3 0 200 0 ratio \$0-ratio-set \$0-ratio 0;
#X floatatom 400 165 3 0 100 0 thresh \$0-thresh-set \$0-thresh 0;
#X floatatom 400 186 3 0 200 0 speed \$0-speed-set \$0-speed 0;
#N canvas 917 248 503 643 run-compander 0;
#X obj 77 30 inlet~;
#X obj 113 184 slop~ 0 0 0 0 1e+09;
#X obj 191 92 r \$0-speed;
#X obj 191 117 f;
#X obj 191 142 / 10;
#X obj 113 152 abs~;
#X obj 127 288 tabread4~ \$0-dynamic-curve;
#X obj 95 338 -~;
#X obj 95 363 +~ 100;
#X obj 95 388 dbtorms~;
#X obj 113 256 rmstodb~;
#X obj 77 438 *~;
#X obj 77 573 outlet~;
#X text 271 178 same envelope follower as in the peak meter example
, f 26;
#X text 160 332 "correct" the level by applying a gain calculated from
the difference between the measured and desired level, f 27;
#X obj 184 479 r limiter-bypass;
#X obj 77 482 *~;
#X obj 37 482 *~;
#X msg 184 527 1;
#X obj 184 551 -;
#X obj 184 503 t b f;
#X connect 0 0 5 0;
#X connect 0 0 11 0;
#X connect 0 0 17 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 3;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 11 1;
#X connect 10 0 7 1;
#X connect 10 0 6 0;
#X connect 11 0 16 0;
#X connect 15 0 17 1;
#X connect 15 0 20 0;
#X connect 16 0 12 0;
#X connect 17 0 12 0;
#X connect 18 0 19 0;
#X connect 19 0 16 1;
#X connect 20 0 18 0;
#X connect 20 1 19 1;
#X restore 58 122 pd run-compander;
#X msg 107 297 100 0 0 200 100 100;
#X msg 157 391 100 0 0 100 0 50;
#X text 278 390 no change;
#X text 220 271 limit;
#X text 249 295 expand;
#X text 249 328 compress;
#X text 253 364 noise gate;
#X msg 127 365 100 0 0 200 60 30;
#X msg 117 328 100 0 0 50 100 100;
#X obj 58 62 inlet~;
#X obj 58 182 outlet~;
#X obj 97 230 loadbang;
#X obj 221 31 tgl 15 0 limiter-bypass limiter-bypass-set bypass -50
7 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 97 270 97 10 0 100 0 50;
#X obj 208 62 inlet~;
#X obj 208 182 outlet~;
#N canvas 917 248 503 643 run-compander 0;
#X obj 77 30 inlet~;
#X obj 113 184 slop~ 0 0 0 0 1e+09;
#X obj 191 92 r \$0-speed;
#X obj 191 117 f;
#X obj 191 142 / 10;
#X obj 113 152 abs~;
#X obj 127 288 tabread4~ \$0-dynamic-curve;
#X obj 95 338 -~;
#X obj 95 363 +~ 100;
#X obj 95 388 dbtorms~;
#X obj 113 256 rmstodb~;
#X obj 77 438 *~;
#X obj 77 573 outlet~;
#X text 271 178 same envelope follower as in the peak meter example
, f 26;
#X text 160 332 "correct" the level by applying a gain calculated from
the difference between the measured and desired level, f 27;
#X obj 184 479 r limiter-bypass;
#X obj 77 482 *~;
#X obj 37 482 *~;
#X msg 184 527 1;
#X obj 184 551 -;
#X obj 184 503 t b f;
#X connect 0 0 5 0;
#X connect 0 0 11 0;
#X connect 0 0 17 0;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 3;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 11 1;
#X connect 10 0 7 1;
#X connect 10 0 6 0;
#X connect 11 0 16 0;
#X connect 15 0 17 1;
#X connect 15 0 20 0;
#X connect 16 0 12 0;
#X connect 17 0 12 0;
#X connect 18 0 19 0;
#X connect 19 0 16 1;
#X connect 20 0 18 0;
#X connect 20 1 19 1;
#X restore 208 122 pd run-compander;
#X connect 8 0 19 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 8 0;
#X connect 20 0 22 0;
#X connect 22 0 1 0;
#X connect 23 0 25 0;
#X connect 25 0 24 0;
#X coords 0 -1 1 1 120 40 1 120 10;
#X restore 411 322 pd limiter;
#X obj 411 378 dac~ 1 2;
#X text 544 322 limit to -3dB, f 15;
#X connect 0 0 4 0;
#X connect 1 0 12 0;
#X connect 2 0 0 0;
#X connect 2 0 13 0;
#X connect 3 0 16 0;
#X connect 3 0 1 0;
#X connect 4 0 31 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 12 1;
#X connect 7 0 4 1;
#X connect 7 0 20 1;
#X connect 7 0 19 1;
#X connect 8 0 9 0;
#X connect 8 1 5 0;
#X connect 9 0 10 0;
#X connect 10 0 5 0;
#X connect 11 0 8 0;
#X connect 12 0 33 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 19 0 34 0;
#X connect 20 0 35 0;
#X connect 21 0 22 0;
#X connect 22 0 27 0;
#X connect 23 0 24 0;
#X connect 24 0 30 0;
#X connect 25 0 23 0;
#X connect 25 0 29 0;
#X connect 26 0 21 0;
#X connect 26 0 28 0;
#X connect 28 0 19 0;
#X connect 29 0 20 0;
#X connect 31 0 39 0;
#X connect 31 1 39 1;
#X connect 32 0 31 1;
#X connect 33 0 39 0;
#X connect 33 1 39 1;
#X connect 34 0 39 0;
#X connect 34 1 39 1;
#X connect 35 0 39 0;
#X connect 35 1 39 1;
#X connect 36 0 33 1;
#X connect 37 0 34 1;
#X connect 38 0 35 1;
#X connect 39 0 40 0;
#X connect 39 1 40 1;
#X restore 425 185 pd DSP;
#X floatatom 286 157 5 20 480 1 tempo tempo-set tempo 0;
#X obj 167 86 vu 15 120 player-4-vu empty -1 -8 0 10 #404040 #000000
0 0;
#X obj 127 86 vu 15 120 player-3-vu empty -1 -8 0 10 #404040 #000000
0 0;
#N canvas 292 347 257 215 OSC 0;
#X obj 44 40 perf-osc-receive 1 5004;
#X obj 44 70 perf-osc-receive 2 5005;
#X obj 44 100 perf-osc-receive 3 5006;
#X obj 44 130 perf-osc-receive 4 5007;
#X restore 425 215 pd OSC;
#X obj 49 214 hsl 24 8 0 1 0 0 player-1-pan player-1-pan-set empty
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 89 214 hsl 24 8 0 1 0 0 player-2-pan player-2-pan-set empty
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 129 214 hsl 24 8 0 1 0 0 player-3-pan player-3-pan-set empty
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 169 214 hsl 24 8 0 1 0 0 player-4-pan player-4-pan-set empty
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 222 204 tgl 15 0 metronome-dac-stereo metronome-dac-stereo-set
mon 0 24 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 425 245 perf-midi-map 1;
#X text 552 245 << this allows for solo practice using Performer 1
controls, f 21;
#X coords 0 -1 1 1 330 190 2 40 50;
#X restore 23 44 pd master-control-panel;
#N canvas 577 125 678 491 performer-control-panels 0;
#X obj 100 100 perf-control-panel 1;
#X obj 210 100 perf-control-panel 2;
#X obj 320 100 perf-control-panel 3;
#X obj 430 100 perf-control-panel 4;
#X coords 0 -1 1 1 430 300 2 100 100;
#X restore 23 264 pd performer-control-panels;
